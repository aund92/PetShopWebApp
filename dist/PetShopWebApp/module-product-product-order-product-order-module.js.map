{"version":3,"sources":["./src/app/module/product/product-order/product-order.component.ts","./src/app/module/product/product-order/product-order.component.html","./src/app/module/product/product-order/order-pipe/order-pipe.ts","./src/app/module/product/product-order/product-order-routing.module.ts","./src/app/module/product/product-order/product-order.module.ts"],"names":[],"mappings":"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","file":"module-product-product-order-product-order-module.js","sourcesContent":["import { HttpResponse } from '@angular/common/http';\nimport { Component, OnInit } from '@angular/core';\nimport { FormBuilder, Validators } from '@angular/forms';\nimport { ActivatedRoute } from '@angular/router';\nimport { PetDTO } from 'src/app/dto/pet-dto';\nimport { ProductDTO } from 'src/app/dto/product-dto';\nimport { ProductImage } from 'src/app/model/product-image';\nimport { MessageResponse } from 'src/app/response/message-response';\nimport { CartDataService } from 'src/app/service/cart-data.service';\nimport { CartService } from 'src/app/service/cart.service';\nimport { ProductService } from 'src/app/service/product.service';\nimport { TokenStorageService } from 'src/app/service/token-storage.service';\nimport Swal from 'sweetalert2';\n\n@Component({\n  selector: 'app-product-order',\n  templateUrl: './product-order.component.html',\n  styleUrls: ['./product-order.component.css']\n})\nexport class ProductOrderComponent implements OnInit {\n\n  productDTO:ProductDTO | null = null;\n  productImages?: ProductImage[];\n\n  petDTOLikes?: PetDTO[];\n\n  submitted = false;\n  message?:string;\n\n  quantityTotal: number = 0;\n\n  isLoggedIn = false;\n  email?: string;\n\n  myForm = this.formBuilder.group({\n    id: ['', [Validators.required]],\n    quantity: [0, [Validators.required, Validators.min(1)]],\n  });\n\n  constructor(\n    protected productService: ProductService,\n    private route: ActivatedRoute,\n    private formBuilder: FormBuilder,\n    private tokenStorageService: TokenStorageService,\n    protected cartService: CartService,\n    protected cartDataService: CartDataService\n    ) { }\n\n  ngOnInit(): void {\n    this.findById(this.route.snapshot.params.id);\n  }\n\n  findById(id:any): void {\n    this.productService.detail(id).subscribe(\n      (res:HttpResponse<ProductDTO>) => {\n        this.productDTO = res.body;\n        \n        if(this.productDTO) {\n          this.updateForm(this.productDTO);\n        }\n\n        this.productImages = this.productDTO?.productImages;\n\n        this.myForm.get(\"quantity\")?.setValue(1);\n\n        this.quantityTotal = this.myForm.value.quantity;\n\n        if(this.productDTO) {\n\n          let categoryId = this.productDTO.category?.id;\n          let sale = this.productDTO.sale;\n          let productId = this.productDTO.id;\n\n          this.findByLike(categoryId, sale, productId);\n        }\n      }\n    );\n\n    this.isLoggedIn = !!this.tokenStorageService.getToken();\n\n    if (this.isLoggedIn) {\n      const user = this.tokenStorageService.getUser();\n\n      this.email = user.body.email;\n    }\n  }\n\n  get f() {\n    return this.myForm.controls;\n  }\n\n  onChange(): void {\n    this.quantityTotal = this.myForm.value.quantity;\n\n    if(this.productDTO?.quantityImport && this.quantityTotal > this.productDTO?.quantityImport) {\n      Swal.fire('Thông báo', 'Số lượng sản phẩm nhiều hơn số lượng đang có', 'warning');\n      this.myForm.get(\"quantity\")?.setValue(1);\n      this.quantityTotal = this.myForm.value.quantity;\n    } else if(this.quantityTotal < 1) {\n      Swal.fire('Thông báo', 'Số lượng sản phẩm phải lớn hơn 0', 'warning');\n      this.myForm.get(\"quantity\")?.setValue(1);\n      this.quantityTotal = this.myForm.value.quantity;\n    } else {\n      this.quantityTotal = this.myForm.value.quantity;\n    }\n  }\n\n  onSubmit(): void {\n\n    if(this.email) {\n      this.submitted = true;\n\n      if (this.myForm.invalid) {\n        return;\n      }\n\n      const formData: FormData = new FormData();\n\n      formData.append('productId', JSON.stringify(this.myForm.value.id));\n      formData.append('quantity', JSON.stringify(this.myForm.value.quantity));\n      this.cartService.create(formData).subscribe(\n        (response: HttpResponse<MessageResponse>) => {\n          this.message = response.body?.message;\n\n          if(this.message === 'success') {\n            this.cartService.getQuantity().subscribe(\n              (res: HttpResponse<MessageResponse>) => {\n                let quantity = res.body?.message || ''\n                this.cartDataService.changeData(quantity);\n\n                if(quantity !== 'failed') {\n                  Swal.fire('Thông báo', 'Thêm vào giỏ hàng thành công', 'success');\n                }\n              }\n            );\n\n          } else if(this.message === 'failed') {\n            Swal.fire('Thông báo', 'Thêm vào giỏ hàng không thành công', 'error');\n          }\n        }\n      )\n    } else {\n      Swal.fire('Thông báo', 'Bạn chưa đăng nhập hoặc đăng ký tài khoản', 'warning');\n    }\n  }\n\n  updateForm(productDTO:ProductDTO): void {\n    this.myForm.patchValue({\n      id: productDTO.id\n    });\n  }\n\n  onMinus(): void {\n    this.quantityTotal = this.quantityTotal - 1;\n\n    if(this.quantityTotal < 1) {\n      Swal.fire('Thông báo', 'Số lượng sản phẩm phải lớn hơn 0', 'warning');\n      this.myForm.get(\"quantity\")?.setValue(1);\n      this.quantityTotal = this.myForm.value.quantity;\n    } else {\n      this.myForm.get(\"quantity\")?.setValue( this.quantityTotal);\n    }\n  }\n\n  onPlus(): void {\n    this.quantityTotal = this.quantityTotal + 1;\n\n    if(this.productDTO?.quantityImport && this.quantityTotal > this.productDTO?.quantityImport) {\n      Swal.fire('Thông báo', 'Số lượng sản phẩm nhiều hơn số lượn đang có', 'warning');\n\n      this.myForm.get(\"quantity\")?.setValue(1);\n    } else {\n      this.myForm.get(\"quantity\")?.setValue( this.quantityTotal);\n    }\n  }\n\n  findByLike(categoryId?: number, sale?: number, productId?: number): void {\n    this.productService.findTByProductLike({categoryId: categoryId, sale: sale, productId: productId}).subscribe(\n      (res: HttpResponse<PetDTO[]>) => {\n        this.petDTOLikes = res.body || [];\n      }\n    );\n  }\n\n  onClickLink(id:any): void {\n    this.findById(id);\n  }\n}\n","<div class=\"row mt-2\" *ngIf=\"productDTO\">\n    <h3 class=\"text-success\">SẢN PHẨM</h3>\n    <div class=\"col-sm-5 product-order\">\n        <div id=\"carouselExampleControlsNoTouching\" class=\"carousel slide\" data-bs-touch=\"false\" data-bs-interval=\"false\">\n            <div class=\"carousel-inner\">\n                <div [ngClass]=\"i===0 ? 'carousel-item active' : 'carousel-item'\" *ngFor=\"let url of productImages; let i = index\">\n                    <img [src]=\"url.image\" class=\"d-block w-100\">\n                </div>\n            </div>\n            <button class=\"carousel-control-prev\" type=\"button\" data-bs-target=\"#carouselExampleControlsNoTouching\" data-bs-slide=\"prev\">\n              <span class=\"carousel-control-prev-icon\" aria-hidden=\"true\"></span>\n              <span class=\"visually-hidden\">Previous</span>\n            </button>\n            <button class=\"carousel-control-next\" type=\"button\" data-bs-target=\"#carouselExampleControlsNoTouching\" data-bs-slide=\"next\">\n              <span class=\"carousel-control-next-icon\" aria-hidden=\"true\"></span>\n              <span class=\"visually-hidden\">Next</span>\n            </button>\n        </div>\n    </div>\n\n    <div class=\"col-sm-7\">\n        <div class=\"card border-info text-dark bg-light mb-3\">\n            <div class=\"card-header fw-bold text-primary\">{{ productDTO.productName }}</div>\n            <div class=\"card-body\">\n                <p class=\"fw-bold text-danger\" *ngIf=\"productDTO.sale && productDTO.sale > 0\">Giảm giá : {{ productDTO.sale }}%</p>\n                <p class=\"fw-bold\">Size : {{ productDTO.thoroughbred?.purebredLevel }}%</p>\n                <p class=\"card-text\" style=\"white-space: pre-wrap\">{{ productDTO.introduce }}</p>\n            </div>\n        </div>\n        <div class=\"bg-warning\">\n            <span [ngClass]=\"productDTO.sale && productDTO.sale > 0 ? 'text-decoration-line-through text-secondary' : 'text-white fs-2'\">{{ productDTO.priceSell | currency: 'VND':'' }}đ</span> &nbsp;\n            <span class=\"text-white fs-2\" *ngIf=\"productDTO.sale && productDTO.sale > 0 && productDTO.priceSell\">{{ productDTO.priceSell - (productDTO.priceSell * (productDTO.sale / 100)) | currency: 'VND':''}}đ</span>\n        </div>\n    </div>\n</div>\n<form (ngSubmit)=\"onSubmit()\" [formGroup]=\"myForm\" class=\"row mt-3 justify-content-end\">\n    <div class=\"mb-3\" [hidden]=\"true\">\n        <input type=\"text\" class=\"form-control\" formControlName=\"id\">\n    </div>\n\n    <div class=\"text-danger col-sm-1\">\n        Số lượng\n    </div>\n    <div class=\"col-sm-2 ms-3\">\n        <div class=\"input-group\">\n            <button class=\"btn btn-outline-secondary\" type=\"button\" (click)=\"onMinus()\"><i class=\"bi bi-dash\"></i></button>\n            <input type=\"number\" class=\"form-control text-center\" formControlName=\"quantity\" [ngClass]=\"{ 'is-invalid': submitted && f.quantity.errors}\" (change)=\"onChange()\">\n            <button class=\"btn btn-outline-secondary\" type=\"button\" (click)=\"onPlus()\"><i class=\"bi bi-plus\"></i></button>\n        </div>\n        <div *ngIf=\"submitted && f.quantity.invalid\" class=\"invalid-feedback d-block\">\n            <div *ngIf=\"f.quantity.errors?.required\">Bạn chưa nhập số lượng</div>\n            <div *ngIf=\"f.quantity.errors?.min\">Số lượng phải phải ít nhất là 1</div>\n        </div>\n    </div>\n    <div class=\"col-sm-3\">\n        <button type=\"submit\" class=\"btn btn-danger ms-3\"><i class=\"bi bi-cart-plus\"></i> Thêm vào giỏ hàng</button>\n    </div>\n</form>\n<div class=\"row mt-2\" *ngIf=\"productDTO\">\n    <nav>\n        <div class=\"nav nav-tabs\" id=\"nav-tab\" role=\"tablist\">\n            <button class=\"nav-link active\" id=\"nav-home-tab\" data-bs-toggle=\"tab\" data-bs-target=\"#nav-home\" type=\"button\" role=\"tab\" aria-controls=\"nav-home\" aria-selected=\"true\">Mô tả</button>\n            <button class=\"nav-link\" id=\"nav-profile-tab\" data-bs-toggle=\"tab\" data-bs-target=\"#nav-profile\" type=\"button\" role=\"tab\" aria-controls=\"nav-profile\" aria-selected=\"false\">Đánh giá</button>\n        </div>\n    </nav>\n    <div class=\"tab-content\" id=\"nav-tabContent\">\n        <div class=\"tab-pane fade show active\" id=\"nav-home\" role=\"tabpanel\" aria-labelledby=\"nav-home-tab\" style=\"white-space: pre-wrap\">{{ productDTO.description }}</div>\n        <div class=\"tab-pane fade\" id=\"nav-profile\" role=\"tabpanel\" aria-labelledby=\"nav-profile-tab\">b</div>\n    </div>\n</div>\n\n<div class=\"row border-danger border-top mt-2\" *ngIf=\"productDTO\">\n    <h3 class=\"text-danger p-2\">SẢN PHẨM TƯƠNG TỰ</h3>\n</div>\n\n<div class=\"alert alert-warning\" role=\"alert\" *ngIf=\"petDTOLikes && petDTOLikes.length === 0\">\n    Không tìm thấy sản phẩm tương tự nào\n</div>\n\n<div class=\"row justify-content-center\" *ngIf=\"petDTOLikes && petDTOLikes.length > 0\">\n    <div class=\"col-sm-3 p-3\" *ngFor=\"let product of petDTOLikes\">\n        <div [ngClass]=\"product.sale && product.sale ? 'box' : 'product'\">\n            <div class=\"ribbon ribbon-top-right\" *ngIf=\"product.sale && product.sale > 0\">\n                <span class=\"text-danger fw-bold\">GIẢM {{ product.sale }}%</span>\n            </div>\n            <a routerLink=\"/home/product-order/{{product.id}}\" (click)=\"onClickLink(product.id)\"><img [src]=\"product.image\"></a>\n        </div>\n        <div class=\"text-center text-danger fw-bold\">\n            {{ product.category?.categoryName}}\n        </div>\n        <div class=\"text-center\">\n            <a routerLink=\"/home/product-order/{{product.id}}\" class=\"link-info text-decoration-none\" *ngIf=\"product.productName\" (click)=\"onClickLink(product.id)\">{{ product.productName | orderPipe : 35}}</a>\n        </div>\n        <div class=\"text-center\">\n            <span [ngClass]=\"product.sale && product.sale > 0 ? 'text-decoration-line-through text-secondary' : 'text-black fw-bold'\">\n                {{ product.priceSell | currency: 'VND':''}}đ\n            </span> &nbsp;\n            <span class=\"fw-bold text-black\" *ngIf=\"product.priceSell && product.sale && product.sale > 0\">\n                {{ product.priceSell - (product.priceSell * (product.sale / 100)) | currency: 'VND':''}}đ\n            </span>\n        </div>\n    </div>\n</div>","import { Injectable, Pipe } from \"@angular/core\";\n\n@Pipe({\n    name: 'orderPipe'\n})\n@Injectable()\nexport class OrderPipe {\n    constructor() {}\n    transform(value: string, stringLimit: number): any {\n      if(value.length > stringLimit) value = value.substring(0,stringLimit)+'...';\n      return value;\n    }\n}\n","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { ProductOrderComponent } from './product-order.component';\n\nconst routes: Routes = [{ path: '', component: ProductOrderComponent }];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule]\n})\nexport class ProductOrderRoutingModule { }\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\n\nimport { ProductOrderRoutingModule } from './product-order-routing.module';\nimport { ProductOrderComponent } from './product-order.component';\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\nimport { OrderPipe } from './order-pipe/order-pipe';\n\n\n@NgModule({\n  declarations: [ProductOrderComponent, OrderPipe],\n  imports: [\n    CommonModule,\n    ProductOrderRoutingModule,\n    FormsModule, \n    ReactiveFormsModule\n  ]\n})\nexport class ProductOrderModule { }\n"],"sourceRoot":"webpack:///"}