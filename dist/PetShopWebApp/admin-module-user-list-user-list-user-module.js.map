{"version":3,"sources":["./src/app/admin/module/user/list-user/list-user.module.ts","./src/app/admin/module/user/list-user/list-user.component.ts","./src/app/admin/module/user/list-user/list-user.component.html","./src/app/admin/module/user/list-user/list-user-routing.module.ts"],"names":[],"mappings":"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","file":"admin-module-user-list-user-list-user-module.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\n\nimport { ListUserRoutingModule } from './list-user-routing.module';\nimport { ListUserComponent } from './list-user.component';\n\n\n@NgModule({\n  declarations: [ListUserComponent],\n  imports: [\n    CommonModule,\n    ListUserRoutingModule\n  ]\n})\nexport class ListUserModule { }\n","import { HttpResponse } from '@angular/common/http';\nimport { Component, OnInit } from '@angular/core';\nimport { UserSystem } from 'src/app/model/user-system';\nimport { MessageResponse } from 'src/app/response/message-response';\nimport { TokenStorageService } from 'src/app/service/token-storage.service';\nimport { UserSystemService } from 'src/app/service/user-system.service';\nimport Swal from 'sweetalert2';\n\n@Component({\n  selector: 'app-list-user',\n  templateUrl: './list-user.component.html',\n  styleUrls: ['./list-user.component.css']\n})\nexport class ListUserComponent implements OnInit {\n\n  roles: string[] = [];\n  userSystems?: UserSystem[];\n  isLoggedIn = false;\n  id?: number;\n  email?: string;\n  message?: string;\n\n  constructor(protected userSystemService: UserSystemService, private tokenStorageService: TokenStorageService) { }\n\n  ngOnInit(): void {\n    this.isLoggedIn = !!this.tokenStorageService.getToken();\n\n    if (this.isLoggedIn) {\n      const user = this.tokenStorageService.getUser();\n      this.roles = user.body.roles;\n\n      this.email = user.body.email;\n    }\n\n    this.findAll();\n  }\n\n  findAll(): void {\n    this.userSystemService.findAll().subscribe(\n      (res: HttpResponse<UserSystem[]>) => {\n        this.userSystems = res.body || [];\n      }\n    );\n  }\n\n  delete(id: any): void {\n    this.userSystemService.delete(id).subscribe(\n      (res: HttpResponse<MessageResponse>) => {\n        this.message = res.body?.message || '';\n\n        if(this.message === 'successfully') {\n          Swal.fire('Thông báo', 'Xóa thành công', 'success');\n        } else if(this.message === 'failed') {\n          Swal.fire('Thông báo', 'Xóa không thành công', 'error');\n        }\n        \n        this.findAll()\n      })\n    }\n\n  confirmDelete(): void {\n    this.userSystemService.delete(this.id).subscribe(\n      (res: HttpResponse<MessageResponse>) => (this.message = res.body?.message || '', this.findAll())\n    )\n  }\n\n}\n","<div class=\"row mt-2\" style=\"justify-content: center;\">\n    <h3 style=\"color: grey;\">Quản lý người dùng</h3>\n    </div>\n\n\n    <div class=\"alert alert-warning\" role=\"alert\" *ngIf=\"userSystems && userSystems.length === 0\">\n        Không có dữ liệu người dùng\n    </div>\n\n    <div class=\"table-responsive lb-table lb-scroll mt-2\" *ngIf=\"userSystems && userSystems.length > 0\">\n        <table class=\"table\">\n            <thead class=\"thead-dark\">\n                <tr>\n                    <th>Email</th>\n                    <th>Ngày tạo/sửa</th>\n                    <th>Quyền</th>\n                    <th></th>\n                </tr>\n            </thead>\n            <tbody>\n                <tr *ngFor=\"let userSystem of userSystems\">\n                    <td>{{ userSystem.email }}</td> \n                    <td>{{ userSystem.lastUpdate | date:'dd-MM-yyyy' }}</td>\n                    <td>\n                        <div *ngFor=\"let role of userSystem.roles\">\n                            {{ role.name }}\n                        </div>\n                    </td>\n                    <td>\n                        <button type=\"button\" class=\"btn btn-info\" routerLink=\"/home-admin/update-user/{{ userSystem.id }}\">Sửa</button>\n                        <button type=\"button\" class=\"btn btn-danger ms-2 ml-1\" data-bs-toggle=\"modal\" data-bs-target=\"#exampleModal\" (click)=\"delete(userSystem.id)\" [disabled]=\"email === userSystem.email\">Xóa</button>\n                    </td>\n                </tr>\n            </tbody>\n        </table>\n    </div>\n\n    <!-- Modal -->\n    <div class=\"modal fade\" id=\"exampleModal\" tabindex=\"-1\" aria-labelledby=\"exampleModalLabel\" aria-hidden=\"true\">\n        <div class=\"modal-dialog\">\n            <div class=\"modal-content\">\n                <div class=\"modal-header\">\n                    <h5 class=\"modal-title\" id=\"exampleModalLabel\">Xóa người dùng</h5>\n                    <button type=\"button\" class=\"btn-close\" data-bs-dismiss=\"modal\" aria-label=\"Close\"></button>\n                </div>\n                <div class=\"modal-body\">\n                    Bạn có chắc chắn muốn xóa không ?\n                </div>\n                <div class=\"modal-footer\">\n                    <button type=\"button\" class=\"btn btn-secondary\" data-bs-dismiss=\"modal\">Đóng</button>\n                    <button type=\"button\" class=\"btn btn-primary\" (click)=\"confirmDelete()\" data-bs-dismiss=\"modal\">Xóa</button>\n                </div>\n            </div>\n        </div>\n</div>","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { ListUserComponent } from './list-user.component';\n\nconst routes: Routes = [{ path: '', component: ListUserComponent }];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule]\n})\nexport class ListUserRoutingModule { }\n"],"sourceRoot":"webpack:///"}